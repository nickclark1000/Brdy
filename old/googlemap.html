<!DOCTYPE html>
<html>
  
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <link href="basic.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
      html { height: 100% }
      body { height: 85%; margin: 0; padding: 0 }
      #map_canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDMEWbu-DxkBYqkZa-gNuaLPPoAm0CEHCM&sensor=false&libraries=drawing">
    </script>
   
      <script type="text/javascript">
      var marker;
      var infowindow;
      
      function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(43.667872,-79.715853),
          zoom: 16,
          mapTypeId: google.maps.MapTypeId.SATELLITE
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"),mapOptions);
  <!--      var html = "<table>" +
                 "<tr><td>Name:</td> <td><input type='text' id='name'/> </td> </tr>" +
                 "<tr><td></td><td><input type='button' value='Save & Close' onclick='saveData()'/></td></tr>";

                 
    infowindow = new google.maps.InfoWindow({
     content: html
    });

	google.maps.event.addListener(map, "click", function(event) {
        marker = new google.maps.Marker({
          position: event.latLng,
          map: map
          });
          google.maps.event.addListener(marker, "click", function() {
          infowindow.open(map, marker);
        });
    });
-->
        
        drawingManager = new google.maps.drawing.DrawingManager({
      		drawingMode: google.maps.drawing.OverlayType.POLYGON,
      		drawingControl: true,
      		drawingControlOptions: {
      		  position: google.maps.ControlPosition.TOP_CENTER,
      		  drawingModes: [google.maps.drawing.OverlayType.MARKER,
    							  google.maps.drawing.OverlayType.CIRCLE,
   							     google.maps.drawing.OverlayType.POLYGON,
    							  google.maps.drawing.OverlayType.POLYLINE]
    									  },
      circleOptions: {
        editable: true
      }
      
    });    
        drawingManager.setMap(map);  
        
           //event listener that does the following after user draws point on the map
    google.maps.event.addListener(drawingManager, 'overlaycomplete', function (point)
    {
        //"clone" the save-form to put in the infowindow
        var form =    $(".save-form").clone().show();
        var infowindow_content = form[0];
        var infowindow = new google.maps.InfoWindow({
            content: infowindow_content
        });
        //make each marker clickable
        google.maps.event.addListener(point.overlay, 'click', function() {
            infowindow.open(map,point.overlay);
        });
        //open infowindow by default
        infowindow.open(map,point.overlay);
    });  
      }
      
<!--		function saveData() {
      var name = escape(document.getElementById("name").value);
      var latlng = marker.getPosition();
 
      var url = "newCourse.php?name=" + name + "&lat=" + latlng.lat() + "&lng=" + latlng.lng();
      downloadUrl(url, function(data, responseCode) {
        if (responseCode == 200 && data.length <= 1) {
          infowindow.close();
          document.getElementById("message").innerHTML = "Location added.";
        }
      });
    }
    
    	function downloadUrl(url, callback) {
      var request = window.ActiveXObject ?
          new ActiveXObject('Microsoft.XMLHTTP') :
          new XMLHttpRequest;

      request.onreadystatechange = function() {
        if (request.readyState == 4) {
          request.onreadystatechange = doNothing;
          callback(request.responseText, request.status);
        }
      };

      request.open('GET', url, true);
      request.send(null);
    }

      function doNothing() {} -->

      
      google.maps.event.addDomListener(window,'load',initialize);
		</script>

  <header> 
	<div id="header_wrapper">
		<img class="logo" src="images/golf.jpg" alt="Golf club and ball">
		<nav>
			<ul>
				<li> Home </li>
				<li> About Us </li>			
			</ul>		
		</nav>
	</div>	
</header>
	<input type="text" placeholder="Enter course name..." size="50"/> <button> Search </button>
<!--	<form action="newCourse.php" method="post">
	
Course name: <input type="text" name="coursename" />
Yardage: <input type="text" name="yardage" />
<input type="submit" />
</form> -->
<form class="form-horizontal save-form" style="display: none">
            <h1>Add me!</h1>
            <fieldset>
                <div class="control-group">
                    <label class="control-label" for="name">Name</label>
                    <div class="controls">
                        <input type="text" class="input-xlarge" name="name">
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="category">What is this?</label>
                    <div class="controls">
                        <select name="category">
                            <option value="asset">something I like</option>
                            <option value="deficit">something I do not like</option>
                        </select>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="description">Description</label>
                    <div class="controls">
                        <textarea class="input-xlarge" name="description" rows="3"></textarea>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Save me</button>
                </div>
            </fieldset>
        </form>
    <div id="map_canvas" style="width:100%; height:100%"></div>
    <div id="message"></div>
    
     <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="bootstrap/js/jquery.js"></script>
    <script src="bootstrap/js/bootstrap-transition.js"></script>
    <script src="bootstrap/js/bootstrap-alert.js"></script>
    <script src="bootstrap/js/bootstrap-modal.js"></script>
    <script src="bootstrap/js/bootstrap-dropdown.js"></script>
    <script src="bootstrap/js/bootstrap-scrollspy.js"></script>
    <script src="bootstrap/js/bootstrap-tab.js"></script>
    <script src="bootstrap/js/bootstrap-tooltip.js"></script>
    <script src="bootstrap/js/bootstrap-popover.js"></script>
    <script src="bootstrap/js/bootstrap-button.js"></script>
    <script src="bootstrap/js/bootstrap-collapse.js"></script>
    <script src="bootstrap/js/bootstrap-carousel.js"></script>
    <script src="bootstrap/js/bootstrap-typeahead.js"></script>
    
  </body>
</html>